# План commo.cc — сводка

## Уже сделано

| Что | Где |
|-----|-----|
| Видение, стек, UI/UX, карта сайта | `.cursor/rules/commo-system.mdc` |
| Репозиторий, доступ GitHub (vital.tsud@gmail.com / vitaltsud) | https://github.com/vitaltsud/commo.cc |
| Документация сервера (84.247.164.76, SSH, домены) | `docs/server/` |
| План развёртывания (фазы 0–5) | `docs/deployment/plan.md` |
| Примеры vhost (nginx/apache) | `docs/server/*.example.conf` |

---

## План по продукту (разработка)

### 1. Фундамент
- Инициализировать Next.js (App Router), Tailwind, Inter, Framer Motion.
- Базовая структура: layout, страницы commo.cc + заглушка adm.commo.cc (или один проект с роутингом по домену).
- Google OAuth: вход «Sign in with Google» для всех.

### 2. Публичный сайт (commo.cc)
- Header: логотип, «How it Works», «For Pros», «Sign in with Google».
- Hero: минималистичная строка поиска («What do you need to fix?»).
- Сетка категорий (иконки, Inter).

### 3. Личный кабинет (после входа)
- Клиент: создание проекта, список рекомендованных мастеров, активные заказы.
- Мастер: лента заявок, подписка, репутация.
- «Messages» — ссылка на Google Chat (позже — автосоздание Space под проект).

### 4. Ядро доверия и монетизации
- Верификация ID: загрузка документов, статус «verified» в профиле мастера.
- Рейтинги: только клиент ставит; мастер не может редактировать/удалять.
- Подписки для мастеров: расчёт по категории, региону, скидка при 4.9+.

### 5. Админка (adm.commo.cc)
- Боковое меню: Users (очередь верификации ID), Global Economy (цены), AI Insights (анализ чатов), Scraping (лиды с карт/досок).
- Хуки под внешние лиды и AI-агентов.

### 6. Интеграции и AI
- Google Chat: автоматическое создание Space под сделку.
- AI: анализ тональности в чатах, антифрод, подсказки в админке.

---

## План по серверу (развёртывание)

| Фаза | Действие | Не ломаем |
|------|----------|-----------|
| **0** | Репо, .env-шаблон, локальная сборка | — |
| **1** | Разведка по SSH: ОС, nginx/apache, порты, текущие сайты | Только чтение |
| **2** | DNS (A на 84.247.164.76), новый vhost, SSL (certbot) | Чужие vhost не трогаем |
| **3** | Node, каталоги, .env.production, БД под commo | Чужие сервисы/БД не трогаем |
| **4** | build, PM2/systemd, proxy в nginx/apache | Отдельные порты и юниты |
| **5** | Логи, скрипт деплоя, бэкапы | Только новые конфиги |

Детали — в [docs/deployment/plan.md](deployment/plan.md) и [docs/server/domains.md](server/domains.md).

---

## Порядок действий (рекомендуемый)

1. **Оценка сервера:** запустить разведку на 84.247.164.76 (скрипт `docs/server/assess-server.sh`), сохранить отчёт и оценить имеющийся софт — см. [docs/server/ASSESSMENT.md](server/ASSESSMENT.md).
2. **Локально:** Next.js уже поднят (App Router, Tailwind, Inter); главная + заглушка навигации; `.env.example` — скопировать в `.env.local` при необходимости.
3. **Дальше:** Google OAuth, базовая навигация, затем кабинет клиента/мастера и верификация ID.
4. **Параллельно (когда готово):** по отчёту сервера — DNS и домены (фаза 2), потом деплой по фазам 3–5.

Итого: сначала оценили софт на сервере, затем продукт до минимально «показуемого» состояния и аккуратное развёртывание без изменений уже работающих систем.
