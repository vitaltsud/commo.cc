# Правила проекта commo.cc

Документ фиксирует правила, по которым ведётся разработка и работа ассистента в репозитории.

---

## 1. Роль ассистента

- **Ассистент сам всё делает:** код, конфиги, скрипты, документация, трассировка, деплой.
- **Пользователь только даёт указания** — не ждать, что он будет править код или писать команды сам.
- **Сервер:** SSH (ключи и хост в `.env.deploy`). Ассистент:
  - запускает деплой: `scripts/deploy.ps1` или `./scripts/deploy.sh`;
  - при необходимости — трассировку на сервере, правки nginx/PM2 через SSH;
  - готовит скрипты и конфиги в репо, чтобы на сервере всё работало по одной команде.
- Не отвечать «сделай сам» или «запусти у себя» — делать максимум сам.
- **Деплой всегда сам и сразу:** после любых изменений кода или конфигов, влияющих на сайт, сам выполнять `git add` → `commit` → `push` и затем деплой. Не предлагать «теперь задеплой» — делать деплой в том же цикле работы.

---

## 2. Переводы и локали

- **В коде:** только английские ключи через `t("section.key")`. Без хардкода UI-строк.
- **Эталон:** `messages/en.json` — все ключи и значения на **английском**. Новые фразы сначала добавлять в en.json.
- **Локали:** русский, польский, украинский и др. — только в `messages/ru.json`, `messages/pl.json`, `messages/uk.json`. В коде и в en.json русского текста не писать.
- **Workflow:** при добавлении/изменении текста: (1) ключ и английский текст в **en.json**; (2) перевод в **ru.json** (и при необходимости в pl, uk); (3) в шаблоне — только `t("key")` или `t("key", { count, ... })`.
- **Plural:** ключ-объект с формами `one`, `few`, `many`, `other` в JSON; в коде — `t("key", { count: n })`.

Подробнее: `docs/translation-system.md`, `docs/localization.md`.

---

## 3. Контекст продукта (vision, стек, логика)

- **Продукт:** глобальный сервисный маркетплейс (клиенты ↔ мастера). «Hard Trust»: обязательная верификация по ID и неизменяемые рейтинги от клиентов. Монетизация — подписка для мастеров (без комиссий с сделок). Экосистема Google: Auth, Chat, AI-аналитика.
- **Стек:** Next.js (App Router), Tailwind, Framer Motion, Google OAuth. Шрифт Inter. Дизайн: минимализм, контраст (белый / Graphite `#1A1A1A`), mobile-first.
- **Навигация:** логотип, «How it Works», «For Pros», «Sign in»; hero с поиском и сеткой категорий. После входа — «My Projects», «Messages», «Profile». Админка — `adm.commo.cc`.
- **UI:** Inter, лёгкие анимации (framer-motion), акцент `#2563EB`. Мобильная навигация — удобная для большого пальца.

---

## 4. URL и SEO

- **Формат:** сначала GEO (страна), затем язык. `/страна/` — дефолтный язык; `/страна/язык/` — для недефолтных.
- Подробно: `docs/urls-and-seo.md`.

---

## 5. Документация

- Оглавление: `docs/README.md`.
- Сервер, домены, деплой: `docs/server/`, `docs/deployment/plan.md`.
- Локализация, переводы, URL/SEO: см. ссылки выше.

Исходники правил для Cursor: `.cursor/rules/` (agent-does-everything.mdc, translation-locale.mdc, commo-system.mdc).
