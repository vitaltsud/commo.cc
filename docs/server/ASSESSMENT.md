# Оценка софта на сервере (84.247.164.76)

Перед развёртыванием commo.cc нужно понять, что уже установлено и как не конфликтовать с существующими системами.

## Как собрать отчёт

1. Подключись по SSH (по ключам):
   ```bash
   ssh -i <путь-к-ключу> user@84.247.164.76
   ```
2. Скопируй скрипт на сервер или выполни команды вручную.

### Вариант A: скрипт из репо

На своей машине (из каталога репо):
```bash
scp -i <ключ> docs/server/assess-server.sh user@84.247.164.76:/tmp/
ssh -i <ключ> user@84.247.164.76 "bash /tmp/assess-server.sh"
```

Вывод сохрани в файл и приложи к проекту (например `docs/server/assessment-report.txt`), либо вставь в чат.

### Вариант B: вручную

Выполни на сервере по очереди и сохрани вывод:

```bash
cat /etc/os-release
which nginx apache2; nginx -v 2>&1; apache2 -v 2>&1
systemctl is-active nginx apache2 2>/dev/null
ls -la /etc/nginx/sites-enabled/ 2>/dev/null
ls -la /etc/apache2/sites-enabled/ 2>/dev/null
ss -tlnp | grep -E ':80|:443|:3000'
node -v; npm -v; pm2 -v 2>/dev/null
df -h /
ls -la /var/www/ 2>/dev/null
```

## Что будем смотреть по отчёту

| Раздел | Зачем |
|--------|--------|
| OS | Решить: nvm или пакетный менеджер для Node. |
| Web server | Nginx или Apache — под него добавим только новый vhost. |
| Sites enabled | Какие сайты уже есть, не трогать их конфиги. |
| Порты 80/443 | Заняты веб-сервером; 3000/3001 — свободны под приложение. |
| Node/npm/pm2 | Если есть — используем; если нет — ставим аккуратно. |
| /var/www | Куда можно добавить `/var/www/commo.cc` и `adm.commo.cc`. |
| Диск | Достаточно места под приложение и логи. |
| Certbot | Уже есть — получим SSL для commo.cc через certbot. |
| БД | Если есть — создаём только новую БД/пользователя для commo. |

После того как отчёт будет — скорректируем план развёртывания и поднимем Next.js с учётом окружения.
