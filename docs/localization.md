# Локализация и страны

## Принцип

- **Глобальный каталог** сервисов, но в каждой стране часть категорий может быть неактивна.
- **Контент сайта** отображается на одном из языков, доступных для выбранной страны (например Польша: PL, EN, RU, UK).
- **Клиент и мастер** выбирают страну и видят только данные по этой стране.
- В **настройках** (клиент и мастер) задаются **языки общения**; они отображаются при просмотре карточки/профиля (клиент видит языки мастера, мастер — языки клиента).

## Реализация

- **Страны и языки:** `lib/countries.ts` — список стран, для каждой: `contentLocales` (языки контента) и `activeCategoryIds` (пустой = все категории активны).
- **Куки:** `commo_country` — выбранная страна, `commo_locale` — язык контента (должен входить в `contentLocales` страны).
- **Переводы:** `messages/{en,pl,ru,uk,de,es}.json` — ключи для хедера, главной, настроек, профиля и т.д.
- **Выбор страны и языка:** в шапке (CountrySelect, LanguageSelect); при смене страны язык подстраивается под доступные для страны.
- **Настройки:** `/settings` — страна (для данных) и языки общения (чекбоксы из языков страны); сохраняются в cookie (страна) и localStorage (языки; позже — в API).
- **Отображение языков:** компонент `UserLanguagesBadge` — принимает `languages: LocaleCode[]`, выводит «Говорит: PL, EN, RU». Использовать в карточках мастера и клиента.

## Добавление страны

В `lib/countries.ts` добавить объект в `countries`: `code`, `name` (объект с ключами локалей), `contentLocales`, `activeCategoryIds`.

## Добавление языка контента

1. Добавить код в `LocaleCode` в `lib/countries.ts` и при необходимости в `lib/locales.ts`.
2. Создать `messages/{code}.json` с теми же ключами, что и в `en.json`.
3. Добавить код в `contentLocales` нужных стран.
